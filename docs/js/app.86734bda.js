(function(t){function e(e){for(var n,o,a=e[0],c=e[1],u=e[2],f=0,h=[];f<a.length;f++)o=a[f],s[o]&&h.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var c=r[a];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("64a9"),s=r.n(n);s.a},"31c1":function(t,e,r){},"50cd":function(t,e,r){"use strict";var n=r("31c1"),s=r.n(n);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("KeishaMaker")],1)},i=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[t._m(0),r("div",{staticClass:"grid"},[r("a",[t._v(t._s(t.totalText))]),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.total,expression:"total",modifiers:{number:!0}}],attrs:{type:"number",min:"0",max:"1000000",pliceholder:"0"},domProps:{value:t.total},on:{input:[function(e){e.target.composing||(t.total=t._n(e.target.value))},function(e){t.total=t.replace(t.total)}],blur:function(e){return t.$forceUpdate()}}}),r("a"),r("a"),r("a"),r("a",{staticClass:"num"},[t._v(t._s(t.selectTotal))]),r("a",[t._v(t._s(t.errorText))]),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.errorVal,expression:"errorVal",modifiers:{number:!0}}],attrs:{type:"number",min:"0",max:"5000",pliceholder:"0"},domProps:{value:t.errorVal},on:{input:function(e){e.target.composing||(t.errorVal=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("a"),r("a"),r("a"),r("a",{staticClass:"num"},[t._v(" "+t._s(t.selectError))])]),t._l(t.items,function(e,n){return r("div",{staticClass:"grid"},[r("a",[t._v(t._s(e.name))]),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.num,expression:"item.num",modifiers:{number:!0}}],attrs:{type:"number",min:"0",placeholder:"0"},domProps:{value:e.num},on:{input:function(r){r.target.composing||t.$set(e,"num",t._n(r.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("a",[t._v(" × ")]),r("a",{staticClass:"num"},[t._v(" "+t._s(e.selectPrice)+" ")]),r("a",[t._v(" ＝ ")]),r("a",{staticClass:"num"},[t._v(" "+t._s(e.posPrice)+" ")])])}),r("div",{attrs:{id:"item-button"}},[r("button",{staticClass:"add-btn",attrs:{small:""},on:{click:function(e){return t.addPos()}}},[t._v("追加")]),r("button",{staticClass:"del-btn",attrs:{small:""},on:{click:function(e){return t.delPos()}}},[t._v("削除")])]),r("div",{attrs:{id:"run-button"}},[r("button",{staticClass:"run-btn",attrs:{large:""},on:{click:function(e){return t.runKeisha()}}},[t._v("計算")])]),r("div",[r("table",{attrs:{align:"center"}},[r("thead",[r("tr",[t._l(t.items,function(e,n){return r("th",{on:{click:function(e){return t.sortBy(n)}}},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t"),r("span",{staticClass:"arrow",class:t.sortOrders[n]>0?"asc":"dsc"})])}),r("th",[t._v("\n\t\t\t\t\t\t"+t._s(t.totalText)+"\n\t\t\t\t\t")])],2)]),r("tbody",t._l(t.sortedKeishas,function(e){return r("tr",{on:{click:function(r){return t.showPrice(e)}}},t._l(e,function(e){return r("td",{attrs:{align:"right"}},[t._v("\n\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t")])}),0)}),0)])])],2)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"Title"},[r("h1",[t._v("傾斜つけるくん")])])}],c=(r("a481"),r("55dd"),{data:function(){for(var t=new Array(18),e=0;e<19;e++)t[e]=500*e+1e3;var r=[{name:"部長",num:0,selectPrice:"",posPrice:""},{name:"課長",num:0,selectPrice:"",posPrice:""},{name:"主査",num:0,selectPrice:"",posPrice:""},{name:"社員",num:0,selectPrice:"",posPrice:""}],n=[];return r.forEach(function(t){return n.push(1)}),{total:"65000",prices:t,keishas:[],sortOrders:n,sortIndex:"",totalText:"合計",selectTotal:"",errorText:"許容誤差",errorVal:"0",selectError:"",items:r}},methods:{kCombinations:function(t,e){var r,n,s,i,o;if(e>t.length||e<=0)return[];if(e==t.length)return[t];if(1==e){for(s=[],r=0;r<t.length;r++)s.push([t[r]]);return s}for(s=[],r=0;r<t.length-e+1;r++)for(i=t.slice(r,r+1),o=this.kCombinations(t.slice(r+1),e-1),n=0;n<o.length;n++)s.push(i.concat(o[n]));return s},calcTotal:function(t,e){for(var r=0,n=0;n<e;n++)r+=t[n]*this.items[n].num;return r},runKeisha:function(t){this.calcKeisha()},calcKeisha:function(){for(var t=this,e=this.items.length,r=0;r<e;r++)this.items[r].selectPrice=" ",this.items[r].posPrice=" ";this.selectError=" ",this.selectTotal=" ",this.keishas=[];var n=this.kCombinations(this.prices,e);n=n.map(function(t){return t.sort()});var s=n.map(function(r){return t.calcTotal(r.sort(function(t,e){return e-t}),e)}),i=s.map(function(e){return 0<=e-t.total&&e-t.total<=t.errorVal}),o=n.filter(function(t,e){return i[e]}),a=s.filter(function(t,e){return i[e]});for(r=0;r<o.length;r++){for(var c=[],u=o[r],l=a[r],f=0,h=0;h<e;h++)0!=this.items[h].num?(c.push(u[f]),f++):c.push(0);c.push(l),this.keishas.push(c)}},sortBy:function(t){this.sortIndex=t,this.sortOrders[t]=-1*this.sortOrders[t],this.sortOrders=this.sortOrders.concat()},showPrice:function(t){for(var e=0;e<this.items.length;e++)this.items[e].selectPrice=t[e],this.items[e].posPrice=t[e]*this.items[e].num;this.selectTotal=t[t.length-1],this.selectError=t[t.length-1]-this.total},addPos:function(t){if(this.items.length<10){var e={name:"追加-"+(this.items.length-3),num:0,selectPrice:"",posPrice:""};this.items.push(e),this.calcKeisha()}},delPos:function(t){this.items.length>4&&(this.items.pop(),this.calcKeisha())},replace:function(t){return t.replace(/\D/g,"")}},computed:{sortedKeishas:function(){var t=this.keishas,e=this.sortIndex,r=this.sortOrders[e]||1;return t=t.slice().sort(function(t,n){return t=t[e],n=n[e],(t===n?0:t>n?1:-1)*r}),t}}}),u=c,l=(r("50cd"),r("2877")),f=Object(l["a"])(u,o,a,!1,null,"37fd8f98",null),h=f.exports,m={name:"app",components:{KeishaMaker:h}},p=m,d=(r("034f"),Object(l["a"])(p,s,i,!1,null,null,null)),v=d.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(v)}}).$mount("#app")},"64a9":function(t,e,r){}});
//# sourceMappingURL=app.86734bda.js.map